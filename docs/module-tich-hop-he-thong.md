# Module T√≠ch H·ª£p H·ªá Th·ªëng (Integrations)

## Module d√πng ƒë·ªÉ l√†m g√¨

Module T√≠ch H·ª£p gi√∫p k·∫øt n·ªëi h·ªá th·ªëng CRM Twenty v·ªõi c√°c ·ª©ng d·ª•ng v√† d·ªãch v·ª• b√™n ngo√†i, t·∫°o ra m·ªôt h·ªá sinh th√°i l√†m vi·ªác ƒë·ªìng b·ªô v√† t·ª± ƒë·ªông h√≥a. Thay v√¨ l√†m vi·ªác tr√™n nhi·ªÅu n·ªÅn t·∫£ng ri√™ng l·∫ª, d·ªØ li·ªáu ƒë∆∞·ª£c ƒë·ªìng b·ªô t·ª± ƒë·ªông gi·ªØa c√°c h·ªá th·ªëng, gi√∫p ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu sai s√≥t.

C√°c ch·ª©c nƒÉng ch√≠nh bao g·ªìm:
- K·∫øt n·ªëi v·ªõi email (Gmail, Outlook)
- ƒê·ªìng b·ªô calendar (Google Calendar, Outlook Calendar)
- T√≠ch h·ª£p communication tools (Slack, Teams)
- K·∫øt n·ªëi marketing platforms (Mailchimp, HubSpot)
- T√≠ch h·ª£p accounting systems (QuickBooks, Xero)
- K·∫øt n·ªëi video conferencing (Zoom, Google Meet)
- API v√† Webhooks cho custom integrations
- Zapier/Make.com cho no-code integrations

## D√†nh cho ai

**ƒê·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng ch√≠nh:**
- **System Administrator**: C·∫•u h√¨nh v√† qu·∫£n l√Ω t·∫•t c·∫£ integrations
- **IT Manager**: Thi·∫øt k·∫ø ki·∫øn tr√∫c t√≠ch h·ª£p, ƒë·∫£m b·∫£o data flow
- **Operations Manager**: T·ª± ƒë·ªông h√≥a quy tr√¨nh cross-platform
- **Marketing Manager**: T√≠ch h·ª£p marketing tools ƒë·ªÉ sync campaigns
- **Sales Teams**: S·ª≠ d·ª•ng integrations ƒë√£ setup ƒë·ªÉ l√†m vi·ªác hi·ªáu qu·∫£
- **Developers**: T·∫°o custom integrations qua API

## L√†m nh∆∞ n√†o (C√°c b∆∞·ªõc thao t√°c)

### 1. Truy c·∫≠p Integration Settings

**B∆∞·ªõc 1:** Nh·∫•n Settings (‚öôÔ∏è) ·ªü menu

**B∆∞·ªõc 2:** Ch·ªçn "Integrations" ho·∫∑c "Connected Apps"

**B∆∞·ªõc 3:** Xem danh s√°ch:
- **Connected**: C√°c integrations ƒë√£ k·∫øt n·ªëi
- **Available**: Integrations c√≥ th·ªÉ k·∫øt n·ªëi
- **Custom**: API v√† webhooks t·ª± t·∫°o

### 2. K·∫øt n·ªëi Gmail/Google Workspace

**B∆∞·ªõc 1:** Trong Integrations, t√¨m "Gmail" ho·∫∑c "Google Workspace"

**B∆∞·ªõc 2:** Nh·∫•n "Connect"

**B∆∞·ªõc 3:** Ch·ªçn t√†i kho·∫£n Google mu·ªën k·∫øt n·ªëi

**B∆∞·ªõc 4:** Cho ph√©p Twenty truy c·∫≠p:
- Gmail (ƒë·ªçc, g·ª≠i, qu·∫£n l√Ω email)
- Google Calendar (ƒë·ªçc, t·∫°o s·ª± ki·ªán)
- Google Contacts (ƒë·ªìng b·ªô danh b·∫°)

**B∆∞·ªõc 5:** Nh·∫•n "Allow" ƒë·ªÉ c·∫•p quy·ªÅn

**B∆∞·ªõc 6:** C·∫•u h√¨nh ƒë·ªìng b·ªô:
- **Email sync direction**: Two-way (hai chi·ªÅu)
- **Calendar sync**: Enabled
- **Sync from date**: Last 30 days
- **Auto-link emails**: T·ª± ƒë·ªông g·∫Øn email v·ªõi contacts

**B∆∞·ªõc 7:** Nh·∫•n "Save" v√† ch·ªù ƒë·ªìng b·ªô ban ƒë·∫ßu

**L∆∞u √Ω:** C√≥ th·ªÉ k·∫øt n·ªëi nhi·ªÅu Gmail accounts n·∫øu c·∫ßn

### 3. K·∫øt n·ªëi Outlook/Microsoft 365

**B∆∞·ªõc 1:** T√¨m "Outlook" ho·∫∑c "Microsoft 365"

**B∆∞·ªõc 2:** Nh·∫•n "Connect"

**B∆∞·ªõc 3:** ƒêƒÉng nh·∫≠p Microsoft

**B∆∞·ªõc 4:** Cho ph√©p truy c·∫≠p:
- Outlook Mail
- Outlook Calendar
- Contacts

**B∆∞·ªõc 5:** C·∫•u h√¨nh t∆∞∆°ng t·ª± Gmail

**B∆∞·ªõc 6:** L∆∞u v√† ƒë·ªìng b·ªô

### 4. T√≠ch h·ª£p Slack

**B∆∞·ªõc 1:** T√¨m "Slack" trong Integrations

**B∆∞·ªõc 2:** Nh·∫•n "Connect to Slack"

**B∆∞·ªõc 3:** Ch·ªçn Slack workspace

**B∆∞·ªõc 4:** Cho ph√©p Twenty bot v√†o workspace

**B∆∞·ªõc 5:** C·∫•u h√¨nh notifications:

**Notify when:**
- New lead created ‚Üí Post to #sales channel
- Deal won ‚Üí Post to #wins channel
- Deal lost ‚Üí Post to #sales-manager channel
- Task overdue ‚Üí DM to task owner
- New contact from website ‚Üí #marketing

**B∆∞·ªõc 6:** Thi·∫øt l·∫≠p format message:
```
New Lead Alert! üéØ
Name: {{person.name}}
Company: {{company.name}}
Source: {{leadSource}}
Value: {{estimatedValue}}
Assigned to: @{{owner}}
```

**B∆∞·ªõc 7:** Test integration b·∫±ng c√°ch g·ª≠i test message

**B∆∞·ªõc 8:** L∆∞u settings

**S·ª≠ d·ª•ng Slack commands:**
- `/twenty search [name]`: T√¨m contact
- `/twenty create lead`: T·∫°o lead m·ªõi
- `/twenty my tasks`: Xem tasks c·ªßa m√¨nh

### 5. T√≠ch h·ª£p Zoom

**B∆∞·ªõc 1:** T√¨m "Zoom" trong Integrations

**B∆∞·ªõc 2:** Nh·∫•n "Connect Zoom"

**B∆∞·ªõc 3:** Authorize Twenty Zoom app

**B∆∞·ªõc 4:** C·∫•u h√¨nh:
- **Auto-create Zoom links**: Khi t·∫°o meeting trong CRM, t·ª± ƒë·ªông t·∫°o Zoom link
- **Sync recordings**: T·ª± ƒë·ªông l∆∞u recordings v√†o CRM
- **Add participants to CRM**: T·ª± ƒë·ªông t·∫°o contacts t·ª´ Zoom participants

**B∆∞·ªõc 5:** L∆∞u

**S·ª≠ d·ª•ng:**
- Khi l√™n l·ªãch meeting, t√≠ch "Add Zoom meeting"
- Link Zoom t·ª± ƒë·ªông t·∫°o v√† g·ª≠i cho attendees
- Sau meeting, recording t·ª± ƒë·ªông attach v√†o opportunity/contact

### 6. T√≠ch h·ª£p Mailchimp

**B∆∞·ªõc 1:** T√¨m "Mailchimp"

**B∆∞·ªõc 2:** Nh·∫•n "Connect"

**B∆∞·ªõc 3:** ƒêƒÉng nh·∫≠p Mailchimp v√† authorize

**B∆∞·ªõc 4:** Ch·ªçn Mailchimp audience c·∫ßn sync

**B∆∞·ªõc 5:** Map fields:

```
CRM Field          ‚Üí  Mailchimp Field
-----------------------------------------
Email              ‚Üí  Email
First Name         ‚Üí  FNAME
Last Name          ‚Üí  LNAME
Company            ‚Üí  COMPANY
Phone              ‚Üí  PHONE
```

**B∆∞·ªõc 6:** Thi·∫øt l·∫≠p sync rules:
- **Sync direction**: CRM ‚Üí Mailchimp (one-way)
- **Sync frequency**: Every 1 hour
- **Filter**: Ch·ªâ sync contacts c√≥ "Marketing Consent = Yes"

**B∆∞·ªõc 7:** Thi·∫øt l·∫≠p campaign tracking:
- Track email opens trong CRM
- Track link clicks
- Update contact status based on engagement

**B∆∞·ªõc 8:** L∆∞u v√† b·∫Øt ƒë·∫ßu sync

**K·∫øt qu·∫£:**
- Contacts trong CRM t·ª± ƒë·ªông th√™m v√†o Mailchimp
- Campaign stats hi·ªÉn th·ªã trong CRM
- Unsubscribes t·ª± ƒë·ªông c·∫≠p nh·∫≠t

### 7. T√≠ch h·ª£p QuickBooks (K·∫ø to√°n)

**B∆∞·ªõc 1:** T√¨m "QuickBooks" trong Integrations

**B∆∞·ªõc 2:** Connect v√† authorize

**B∆∞·ªõc 3:** C·∫•u h√¨nh sync:

**Customers:**
- Sync Companies t·ª´ CRM ‚Üí Customers trong QuickBooks
- Two-way sync

**Invoices:**
- Khi Opportunity won ‚Üí T·ª± ƒë·ªông t·∫°o Invoice trong QuickBooks
- Link invoice v·ªÅ CRM

**Payments:**
- Khi payment received trong QuickBooks ‚Üí C·∫≠p nh·∫≠t status trong CRM

**Products:**
- Sync Products t·ª´ CRM ‚Üî QuickBooks

**B∆∞·ªõc 4:** Map fields v√† save

**Workflow v√≠ d·ª•:**
1. Sales rep win deal trong CRM
2. T·ª± ƒë·ªông t·∫°o Customer trong QuickBooks (n·∫øu ch∆∞a c√≥)
3. T·ª± ƒë·ªông t·∫°o Invoice v·ªõi line items t·ª´ Opportunity
4. G·ª≠i invoice cho customer
5. Khi customer pay ‚Üí Status c·∫≠p nh·∫≠t trong CRM

### 8. S·ª≠ d·ª•ng Zapier cho integrations

**B∆∞·ªõc 1:** T·∫°o t√†i kho·∫£n Zapier

**B∆∞·ªõc 2:** Trong Twenty, v√†o Integrations > Zapier

**B∆∞·ªõc 3:** Copy API Key

**B∆∞·ªõc 4:** Trong Zapier, create new Zap:

**Trigger (Khi n√†o):**
- App: Twenty
- Event: New Person Created
- Connect account b·∫±ng API Key
- Test trigger

**Action (L√†m g√¨):**
- App: Google Sheets
- Event: Create Spreadsheet Row
- Map fields t·ª´ Twenty ‚Üí Google Sheets
- Test action

**B∆∞·ªõc 5:** Turn on Zap

**V√≠ d·ª• Zaps th∆∞·ªùng d√πng:**

**Zap 1: New lead ‚Üí Add to Google Sheets**
- Trigger: Twenty - New Person
- Action: Google Sheets - Create Row

**Zap 2: Form submission ‚Üí Create lead**
- Trigger: Google Forms - New Response
- Action: Twenty - Create Person

**Zap 3: Deal won ‚Üí Post to Slack**
- Trigger: Twenty - Opportunity Stage Changed to Won
- Action: Slack - Send Channel Message

**Zap 4: New email ‚Üí Create task**
- Trigger: Gmail - New Email Matching Search
- Action: Twenty - Create Task

### 9. Webhook Configuration

**Outgoing Webhooks (T·ª´ Twenty ra ngo√†i):**

**B∆∞·ªõc 1:** V√†o Settings > Webhooks

**B∆∞·ªõc 2:** Nh·∫•n "+ New Webhook"

**B∆∞·ªõc 3:** C·∫•u h√¨nh:
- **Name**: ƒê·∫∑t t√™n webhook
- **Endpoint URL**: URL nh·∫≠n webhook
- **Events**: Ch·ªçn events trigger webhook
  - person.created
  - opportunity.updated
  - task.completed
  - v.v.
- **Headers**: Th√™m authentication headers n·∫øu c·∫ßn
- **Secret**: Shared secret ƒë·ªÉ verify webhook

**B∆∞·ªõc 4:** Test webhook

**B∆∞·ªõc 5:** Activate

**Webhook payload example:**
```json
{
  "event": "opportunity.won",
  "timestamp": "2024-11-05T10:30:00Z",
  "data": {
    "id": "opp_12345",
    "name": "Deal with ABC Corp",
    "value": 500000000,
    "stage": "Won",
    "owner": {
      "id": "user_123",
      "name": "Nguy·ªÖn VƒÉn A"
    }
  }
}
```

**Incoming Webhooks (T·ª´ ngo√†i v√†o Twenty):**

**B∆∞·ªõc 1:** T·∫°o webhook receiver trong Twenty

**B∆∞·ªõc 2:** Copy webhook URL

**B∆∞·ªõc 3:** Paste v√†o service b√™n ngo√†i (VD: Typeform, Calendly)

**B∆∞·ªõc 4:** Map fields

**V√≠ d·ª•:** Typeform submit ‚Üí Create lead trong CRM

### 10. REST API Usage

**Get API Credentials:**

**B∆∞·ªõc 1:** Settings > API Keys

**B∆∞·ªõc 2:** Generate new API key

**B∆∞·ªõc 3:** Copy v√† l∆∞u an to√†n

**API Examples:**

**List Opportunities:**
```bash
curl -X GET https://api.twenty.com/v1/opportunities \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json"
```

**Create Person:**
```bash
curl -X POST https://api.twenty.com/v1/people \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "firstName": "John",
    "lastName": "Doe",
    "email": "john@example.com",
    "company": "ABC Corp"
  }'
```

**Update Opportunity:**
```bash
curl -X PATCH https://api.twenty.com/v1/opportunities/opp_123 \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "stage": "Negotiation",
    "value": 600000000
  }'
```

**L∆∞u √Ω:**
- Rate limit: 100 requests/minute
- S·ª≠ d·ª•ng pagination cho large datasets
- Handle errors properly

### 11. T√≠ch h·ª£p ChatGPT/AI

**B∆∞·ªõc 1:** V√†o Integrations > AI Tools

**B∆∞·ªõc 2:** Connect OpenAI

**B∆∞·ªõc 3:** Nh·∫≠p API Key

**B∆∞·ªõc 4:** C·∫•u h√¨nh use cases:

**Auto-summarize emails:**
- Khi email d√†i > 500 words ‚Üí AI t√≥m t·∫Øt
- Hi·ªÉn th·ªã summary trong CRM

**Draft email responses:**
- AI suggest email replies d·ª±a tr√™n context
- User review v√† edit tr∆∞·ªõc khi g·ª≠i

**Lead scoring:**
- AI ph√¢n t√≠ch lead v√† cho ƒëi·ªÉm
- Recommend priority leads

**Sentiment analysis:**
- Ph√¢n t√≠ch email/note ‚Üí Positive/Neutral/Negative
- Alert n·∫øu customer sentiment negative

**B∆∞·ªõc 5:** Test v√† activate

### 12. Qu·∫£n l√Ω Connected Accounts

**Xem t·∫•t c·∫£ connections:**

**B∆∞·ªõc 1:** V√†o Settings > Connected Accounts

**B∆∞·ªõc 2:** Xem danh s√°ch:
- Account name
- Service (Gmail, Slack, v.v.)
- Status (Active/Error)
- Last sync time
- Data synced

**Reconnect khi c√≥ l·ªói:**

**B∆∞·ªõc 1:** N·∫øu th·∫•y "Error" status

**B∆∞·ªõc 2:** Nh·∫•n "Reconnect"

**B∆∞·ªõc 3:** Re-authorize

**B∆∞·ªõc 4:** Check l·∫°i status

**Disconnect account:**

**B∆∞·ªõc 1:** Ch·ªçn account c·∫ßn disconnect

**B∆∞·ªõc 2:** Nh·∫•n "Disconnect"

**B∆∞·ªõc 3:** Ch·ªçn:
- **Keep synced data**: Gi·ªØ data ƒë√£ sync
- **Delete synced data**: X√≥a data (c·∫©n th·∫≠n!)

**B∆∞·ªõc 4:** Confirm

### 13. Monitoring Integration Health

**View Sync Logs:**

**B∆∞·ªõc 1:** V√†o Integration Settings

**B∆∞·ªõc 2:** Ch·ªçn integration c·∫ßn xem

**B∆∞·ªõc 3:** Tab "Sync History"

**B∆∞·ªõc 4:** Xem:
- Sync runs (th·ªùi gian ch·∫°y)
- Records processed
- Errors (n·∫øu c√≥)
- Duration

**Setup Alerts:**

**B∆∞·ªõc 1:** Settings > Integrations > Alerts

**B∆∞·ªõc 2:** T·∫°o alert rule:
- If sync fails 3 times ‚Üí Email admin
- If no sync in 24 hours ‚Üí Alert
- If error rate > 10% ‚Üí Alert

**B∆∞·ªõc 3:** Ch·ªçn notification channel

**B∆∞·ªõc 4:** Save

### 14. Data Mapping Best Practices

**1. Consistent field mapping:**
```
CRM              External System
-------------------------------------
First Name    ‚Üí  FirstName (not FNAME, first_name)
Email         ‚Üí  Email
Phone         ‚Üí  Phone (format consistent)
```

**2. Handle custom fields:**
- Map custom fields trong CRM ƒë·∫øn custom fields b√™n ngo√†i
- Document mapping trong settings

**3. Default values:**
- N·∫øu field kh√¥ng c√≥ trong source, set default
- VD: Lead Source = "Integration" n·∫øu kh√¥ng r√µ ngu·ªìn

**4. Data transformation:**
- Phone: Format v·ªÅ chu·∫©n (VD: +84...)
- Date: Convert timezone
- Currency: Convert ƒë∆°n v·ªã

**5. Conflict resolution:**
- N·∫øu data kh√°c nhau gi·ªØa 2 systems, ch·ªçn:
  - **Last write wins**: C√°i n√†o update sau th·∫Øng
  - **CRM wins**: ∆Øu ti√™n CRM
  - **External wins**: ∆Øu ti√™n external
  - **Manual review**: Flag conflicts cho admin

### 15. Security Best Practices

**1. API Key Management:**
- Kh√¥ng share API keys
- Rotate keys ƒë·ªãnh k·ª≥ (m·ªói 90 ng√†y)
- Revoke keys khi kh√¥ng d√πng
- M·ªôt key cho m·ªói integration (kh√¥ng d√πng chung)

**2. OAuth Tokens:**
- Review permissions k·ªπ tr∆∞·ªõc khi grant
- Revoke access khi nh√¢n vi√™n ngh·ªâ vi·ªác
- Monitor token usage

**3. Webhook Security:**
- Verify webhook signatures
- S·ª≠ d·ª•ng HTTPS endpoints
- Whitelist IPs n·∫øu c√≥ th·ªÉ

**4. Data Encryption:**
- Sensitive data encrypt in transit (SSL/TLS)
- Encrypt at rest n·∫øu c√≥ th·ªÉ

**5. Audit Logging:**
- Log t·∫•t c·∫£ API calls
- Track who integrated what
- Alert on suspicious patterns

### 16. Troubleshooting Common Issues

**Issue: Email kh√¥ng sync**

**Fix:**
1. Check connected account status
2. Re-authorize if expired
3. Check sync filters (c√≥ filter qu√° ch·∫∑t?)
4. Xem sync logs ƒë·ªÉ t√¨m errors
5. Contact support n·∫øu v·∫´n l·ªói

**Issue: Duplicate records t·ª´ integration**

**Fix:**
1. Check duplicate detection rules
2. Review field mapping (c√≥ unique field ƒë·ªÉ match?)
3. Enable "Update existing" thay v√¨ "Create new"
4. Manual merge duplicates
5. Adjust sync settings

**Issue: Sync ch·∫≠m**

**Fix:**
1. Gi·∫£m sync frequency (VD: 1 hour thay v√¨ realtime)
2. Gi·∫£m s·ªë l∆∞·ª£ng fields sync
3. Filter ƒë·ªÉ sync √≠t data h∆°n
4. Check network/API rate limits

**Issue: Integration keeps disconnecting**

**Fix:**
1. Token expired ‚Üí Re-authorize
2. Password changed ‚Üí Reconnect
3. Permissions revoked ‚Üí Re-grant
4. API changes ‚Üí Update integration

### 17. Integration Scenarios (V√≠ d·ª• th·ª±c t·∫ø)

**Scenario 1: E-commerce + CRM**

Setup:
- Shopify store t√≠ch h·ª£p v·ªõi Twenty CRM
- Khi c√≥ order m·ªõi ‚Üí T·ª± ƒë·ªông t·∫°o/update customer trong CRM
- Order items ‚Üí Create opportunity
- Fulfilled order ‚Üí Mark opportunity as Won
- Customer purchase history sync ƒë·ªÉ personalize marketing

**Scenario 2: Marketing Automation**

Setup:
- Website form (Typeform) ‚Üí Create lead
- Lead v√†o Mailchimp drip campaign
- Email engagement sync v·ªÅ CRM (opens, clicks)
- Hot lead (high engagement) ‚Üí Slack alert sales team
- Sales create opportunity v√† follow up

**Scenario 3: Support Ticket to Sales**

Setup:
- Support ticket (Zendesk) t·ª´ customer
- Ticket c√≥ mention "upgrade" ho·∫∑c "buy more"
- Auto-create opportunity trong CRM
- Assign to account owner
- Link ticket v√†o opportunity
- Close ticket ‚Üí Update opportunity

**Scenario 4: Event Management**

Setup:
- Event registration (Eventbrite) ‚Üí Create lead
- Attendee check-in ‚Üí Update lead status
- Post-event survey (Google Forms) ‚Üí Update lead notes
- High NPS score ‚Üí Priority lead
- Assign to sales for follow-up

### 18. Custom Integration Development

**For Developers:**

**B∆∞·ªõc 1:** Review API documentation

**B∆∞·ªõc 2:** Setup development environment:
- Get sandbox API key
- Install SDK (n·∫øu c√≥)

**B∆∞·ªõc 3:** Build integration:
- Authentication (OAuth or API key)
- CRUD operations
- Error handling
- Rate limit handling
- Webhooks (if needed)

**B∆∞·ªõc 4:** Test thoroughly:
- Unit tests
- Integration tests
- Load tests

**B∆∞·ªõc 5:** Deploy to production

**B∆∞·ªõc 6:** Monitor v√† maintain

**Example Node.js Integration:**
```javascript
const TwentyAPI = require('twenty-sdk');

const client = new TwentyAPI({
  apiKey: process.env.TWENTY_API_KEY
});

// Create person from external source
async function syncPerson(externalData) {
  try {
    const person = await client.people.create({
      firstName: externalData.first_name,
      lastName: externalData.last_name,
      email: externalData.email,
      customFields: {
        externalId: externalData.id
      }
    });
    console.log('Person created:', person.id);
  } catch (error) {
    console.error('Error creating person:', error);
  }
}
```

**L∆∞u √Ω:**
- T·∫•t c·∫£ integrations ph·∫£i ƒë∆∞·ª£c admin approve tr∆∞·ªõc khi activate
- Test k·ªπ trong sandbox tr∆∞·ªõc khi deploy production
- Document integration setup cho users
- Monitor integration health v√† fix issues nhanh
